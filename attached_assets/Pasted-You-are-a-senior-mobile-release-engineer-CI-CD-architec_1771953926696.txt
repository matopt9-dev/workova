You are a senior mobile release engineer + CI/CD architect. You are working inside my Replit project repository. Your job is to IMPLEMENT (not explain) a complete “Submission Readiness System” that ensures my iOS and Android apps meet Apple App Store + Google Play submission requirements BEFORE and AFTER deployment. This system must generate a single downloadable folder (/evidence) containing test reports, policy/compliance checks, screenshots (iPhone + iPad + Android phone + Android tablet), and a final submission-readiness report (Markdown + JSON). Do not leave placeholders. Do not change business logic. Only add automation, minimal testIDs, and configuration needed to run reliably.

NON-NEGOTIABLE OUTCOMES
1) Add an /evidence folder that is fully auto-generated by scripts.
2) Add scripts that run: lint, typecheck, unit tests, dependency audit, E2E flows, metadata/privacy validation, pre-submit report generation, and post-deploy smoke tests.
3) Add iOS + iPad screenshots generation (must run on macOS CI runners). Add Android phone + tablet screenshots generation (can run on Ubuntu CI).
4) Add GitHub Actions workflows that produce downloadable artifacts containing /evidence.
5) Add simple one-line commands that run locally where possible, and CI workflows for what can’t run locally (iOS simulator).
6) All scripts must fail with non-zero exit code if anything fails.
7) Output at the end: the final file tree + exact commands to run + where the evidence artifacts are uploaded.

ASSUMPTIONS / ADAPTATION RULES
- If this is an Expo (managed) app: use expo + expo-router conventions.
- If this is bare React Native: adapt scripts accordingly and still implement everything.
- Replit cannot run iOS simulators; therefore iOS/iPad screenshots must run in GitHub Actions on macOS.
- Android emulators can run in CI on Ubuntu (preferred), and optionally locally if supported.
- Use Maestro for E2E (preferred). If Maestro cannot be installed, fall back to Detox only if necessary.
- Add testIDs ONLY where required to make E2E stable (buttons/inputs on login + primary navigation + settings).
- If the app requires login, E2E must use demo credentials from env vars and must verify pre-populated content exists.
- If app has paid digital content/subscriptions, ensure checks exist to confirm Apple IAP/Google Billing compliance paths are present (at minimum: metadata check + runtime guard checks + documentation). Do not implement payments unless already present; only validate and gate.

DELIVERABLES TO CREATE IN REPO

A) FOLDER STRUCTURE (create these directories)
/
  tools/
    ci/
    e2e/
      maestro/
    screenshots/
  evidence/   (generated output, but include a .gitkeep and README)
  .github/
    workflows/

B) SCRIPTS (implement these files fully)
1) tools/ci/validate-metadata.ts
   - Validates app config (app.json or app.config.*) and store metadata requirements.
   - Checks: app name, bundle identifier (ios.bundleIdentifier), android.package, version, buildNumber, privacyPolicy URL, support URL/email, encryption/export compliance flags if present, required permission rationale strings, and that store listing fields exist (at least placeholders in docs).
   - If auth exists (detect by presence of auth screens/routes or auth provider usage), require DEMO credentials env vars exist: E2E_DEMO_EMAIL and E2E_DEMO_PASSWORD and that DEMO_MODE is enabled or demo user exists in seed data.
   - Write output: evidence/reports/metadata-validation.json and fail on missing required fields.

2) tools/ci/generate-report.ts
   - Collects outputs from lint, typecheck, unit tests, audit, e2e, screenshots presence checks.
   - Generates:
     - evidence/submission-readiness.md (human readable)
     - evidence/submission-readiness.json (machine readable)
   - Include sections: Build Info (commit hash if available), App IDs, Test Summary, Screenshot Matrix Summary, Privacy/Metadata Validation Summary, Known Risks (if any), and a final PASS/FAIL flag.

3) tools/ci/smoke-test-api.ts
   - Runs post-deploy smoke checks against PROD_API_URL (env).
   - Hits /health (or /api/health), /version, and one authenticated endpoint if auth exists (using DEMO creds).
   - Times out safely. Writes evidence/reports/postdeploy-smoke.json and fails if critical endpoints fail.

4) tools/ci/run-checks.sh (or .ts)
   - Runs lint + typecheck + unit tests + audit in consistent order.
   - Writes outputs to evidence/reports/:
     - eslint.json (or text)
     - typecheck.txt
     - junit.xml (unit tests)
     - audit.json
   - Make sure to use deterministic commands.

5) tools/ci/ensure-evidence-dirs.ts
   - Ensures evidence/reports and evidence/screenshots exist.
   - Cleans previous evidence (optional: keep last run in evidence/_archive with timestamp).
   - Creates evidence/.gitkeep and evidence/README.md if not present.

6) tools/screenshots/take-screenshots-ios.sh
   - Intended for macOS CI.
   - Boots simulators for: iPhone 6.7", iPhone 6.1", iPad 12.9" (or latest equivalents available on runner).
   - Installs the app build (use EAS build artifact if available OR build via expo run:ios in CI if feasible).
   - Runs Maestro flows to navigate and then captures screenshots via xcrun simctl io booted screenshot.
   - Stores screenshots in tools/screenshots/ios/<device>/<step>.png then copies to evidence/screenshots/ios/<device>/.
   - Must fail if screenshots are missing.

7) tools/screenshots/take-screenshots-android.sh
   - Intended for ubuntu CI.
   - Starts Android emulator for: phone + tablet profile (or at minimum: Pixel + tablet AVD).
   - Installs app (APK/AAB build step as feasible).
   - Runs Maestro flows and captures screenshots using adb exec-out screencap -p.
   - Stores screenshots in tools/screenshots/android/<device>/<step>.png then copies to evidence/screenshots/android/<device>/.
   - Must fail if screenshots are missing.

8) tools/e2e/maestro/flow-login.yaml
   - Robust login flow using testIDs.
   - Use env vars for credentials.
   - Validate a logged-in UI element exists and pre-populated content is visible.

9) tools/e2e/maestro/flow-core.yaml
   - Navigate through core screens: Home -> Explore/Search -> Profile -> Settings -> Privacy/Account -> Logout (if exists).
   - Ensure each screen loads and at least one key element is visible.

C) PACKAGE.JSON SCRIPTS (add/modify)
Add these scripts, ensuring they work:
- "lint"
- "typecheck"
- "test"
- "audit:deps" (npm audit --json or pnpm equivalent)
- "check" = run lint + typecheck + test + audit
- "e2e:android" = run maestro flows on android
- "e2e:ios" = run maestro flows on ios (CI)
- "screenshots:android" = run take-screenshots-android.sh
- "screenshots:ios" = run take-screenshots-ios.sh
- "evidence:prepare" = ensure-evidence-dirs
- "evidence:build" = evidence:prepare + validate-metadata + check + e2e + screenshots (where possible) + generate-report
- "smoke:postdeploy" = evidence:prepare + smoke-test-api + generate-report

D) GITHUB ACTIONS WORKFLOWS (create these)
1) .github/workflows/ci.yml (ubuntu)
   - on: pull_request + workflow_dispatch
   - steps: checkout, setup node, install deps, run npm run evidence:prepare, validate-metadata, check, run android e2e if feasible (or skip if emulator heavy), generate-report, upload artifact (evidence).

2) .github/workflows/screenshots-ios.yml (macos)
   - on: workflow_dispatch + push to main (optional)
   - steps: checkout, setup node, install deps, install maestro, setup Xcode simulators, build app for simulator (or fetch EAS build), run screenshots:ios, generate-report, upload artifact (evidence).

3) .github/workflows/screenshots-android.yml (ubuntu)
   - on: workflow_dispatch + push to main (optional)
   - steps: checkout, setup java + android emulator, install maestro, build/install apk, run screenshots:android, generate-report, upload artifact (evidence).

4) .github/workflows/post-deploy-smoke.yml
   - on: workflow_dispatch (with inputs for PROD_API_URL)
   - steps: checkout, setup node, install deps, run smoke:postdeploy, upload artifact (evidence).

E) DOCUMENTATION
- Update README.md with:
  - “Release Readiness” section explaining:
    - Local commands (check + partial evidence)
    - CI commands (how to run workflows)
    - Where to download artifacts
  - A short checklist mapping common Apple/Google requirements to evidence outputs:
    - login demo creds -> validated in metadata + e2e login flow
    - pre-populated content -> validated by e2e assertions
    - privacy policy -> validated in metadata
    - screenshots -> evidence/screenshots
    - stability -> unit + e2e + smoke tests

F) MINIMAL UI HOOKS
- Add testID props to critical UI elements ONLY if missing:
  - Login email input: testID="auth.email"
  - Login password input: testID="auth.password"
  - Login submit button: testID="auth.submit"
  - Main tab buttons: testID="nav.home", "nav.explore", "nav.profile", "nav.settings"
  - Logout button: testID="settings.logout"
- Do not change styling or logic.

G) OUTPUT VALIDATION
- After implementing, run locally (where possible) and show:
  - `npm run check`
  - `npm run evidence:prepare`
  - `npm run validate:metadata` (or the script you name)
  - `npm run evidence:build` (with iOS screenshots step skipped locally if not available)
- Ensure evidence folder is populated and report shows PASS (or clearly lists remaining fails with reasons).

FINAL RESPONSE FORMAT (very important)
1) Print the final repo tree (relevant parts).
2) Print the exact commands to run locally.
3) Print the exact GitHub Actions workflows names and what artifacts they produce.
4) Print the environment variables needed (DEMO creds, PROD_API_URL).
5) Confirm the location of the generated submission-readiness report files.

NOW IMPLEMENT EVERYTHING DIRECTLY IN THIS REPLIT REPO.